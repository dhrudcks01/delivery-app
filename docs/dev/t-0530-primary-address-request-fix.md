# T-0530 대표 주소지 등록 이후 수거신청 실패 이슈 점검/수정

## 이슈 재현 요약
- 경로: `내정보 > 주소관리`에서 대표 주소지 저장 후 `신청` 탭에서 수거신청 생성
- 재현 조건:
  - 대표 주소지(`도로명 + 상세주소`)가 길어지는 케이스
  - 대표 주소지 텍스트에 불필요한 공백/줄바꿈이 포함되는 케이스
- 결과:
  - 서버 `waste_requests.address` 길이 제한(`255`) 검증에서 `VALIDATION_ERROR`(400) 발생
  - 앱에서는 "신청이 안 된다"로 체감됨

## 원인 분석
1. 모바일에서 대표 주소지 문자열을 그대로 조합해 요청 payload로 전송
2. 조합 주소에 대한 사전 검증(공백 정규화/길이 제한)이 없어 서버 검증 실패
3. 주소 저장 화면과 신청 화면이 서로 다른 조합 규칙을 사용해 정합성이 약함

## 수정 내용
- 공통 유틸(`buildWasteRequestAddress`) 추가
  - `도로명 > 지번` 우선순위로 기본 주소 선택
  - 연속 공백 정규화 후 상세주소 병합
  - 최종 주소 길이 `255`자 초과 시 명확한 오류 메시지 반환
- `주소관리` 저장 시 동일 규칙으로 사전 검증
- `수거신청` 생성 시 동일 규칙으로 payload 생성/검증
  - 유효하지 않은 대표 주소지는 버튼 비활성화 + 오류 메시지 표시
- 서버 통합 테스트 보강
  - 주소 길이 255자 요청 성공
  - 주소 길이 256자 요청 `VALIDATION_ERROR` 확인

## 수동 검증 시나리오
1. 대표 주소지 신규 등록 후 신청
- 주소관리에서 주소 선택 + 상세주소 입력 후 대표 저장
- 신청 탭에서 동일 대표 주소가 노출되는지 확인
- 연락처 입력 후 신청 생성 성공 확인

2. 대표 주소지 변경 후 신청
- 주소 2개 등록 후 대표 변경
- 신청 탭 재진입 시 변경된 주소로 반영되는지 확인
- 신청 생성 성공 확인

3. 대표 주소지 삭제/미설정 상태
- 주소를 모두 삭제한 뒤 신청 탭 진입
- 대표 주소지 안내/오류 메시지 및 신청 버튼 비활성화 확인

4. 길이 경계 케이스
- 상세주소를 길게 입력해 총 주소 길이가 255자를 넘도록 구성
- 저장/신청 시 길이 초과 메시지가 노출되고 서버 요청이 차단되는지 확인
